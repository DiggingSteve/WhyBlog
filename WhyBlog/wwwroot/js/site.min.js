function getQueryString(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)","i"),t=window.location.search.substr(1).match(i);return t!=null?unescape(t[2]):null}var ajaxRequest={},_tool={};(function(){_tool.loading=function(){$(".loading").show()};_tool.removeLoading=function(){$(".loading").hide()}})();ajaxRequest.get=function(n,t){return _tool.loading(),$.ajax({url:t,method:"get",dataType:"JSON"}).always(function(){_tool.removeLoading()})};ajaxRequest.post=function(n,t){return _tool.loading(),$.ajax({url:t,method:"post",dataType:"JSON",data:n}).always(function(){_tool.removeLoading()})};var config={client_id:"f7d394427a6c3d3e5689",client_secret:"b3216c98eca8c5301b5f09525f7e6863c0250b8c",scope:["user"],redirect_uri:_config.rootpath+"/home/redirect",api_url:_config.rootpath+"/api"},GitOauth=function(){function n(){this.init()}return n.prototype.init=function(){var n=this;$("#gitSignIn").click(function(){n.signIn()});$("#icon_signOut").click(function(){n.signOut()})},n.prototype.signIn=function(){var n="https://github.com/login/oauth/authorize";n+="?client_id="+config.client_id;n+="&scope="+config.scope;n+="&redirect_uri="+config.redirect_uri;window.location.href=n},n.prototype.getToken=function(){var n=getQueryString("code"),t,i;if(!!n)return t=config.api_url+"/GitApi/SigninByGit",i={client_id:config.client_id,client_secret:config.client_secret,code:n},ajaxRequest.post(i,t).done(function(){window.location.href="/home/index"}),!1},n.prototype.signOut=function(){var n=config.api_url+"/GitApi/SignOut";ajaxRequest.post({},n).done(function(n){console.log(n);window.location.href="/"})},n}(),git=new GitOauth;